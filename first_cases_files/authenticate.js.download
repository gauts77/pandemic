jQuery(function($){
var register_form = $(".register_form");
    register_form.validate({
        invalidHandler: function(form, validator) {
            var errors = validator.numberOfInvalids();
            if (errors) {
                $('.register_form .alert_status').show();  
                $('.register_form .alert_status').val(validator.errorList[0].message);
                validator.errorList[0].element.focus(); //Set Focus
            }
        },
        rules: {
            reg_username: {
                required: true,
				maxlength: 20
            },
			reg_company: {
                required: true,
				maxlength: 20
            },
			reg_job_title: {
                required: true,
				maxlength: 20
            },
            reg_email: {
                required: true,
                email: true,
            }, 
			reg_countries: {
                required: true,
                
            }
          
        },
        messages: {
            reg_username: {required: "Enter your name"},
            reg_email: {required: "Enter the email",email: "Invalid email address" },
            reg_countries: {required: "Select the country" },
            reg_company: {required: "Enter company name" },
            reg_job_title: {required: "Enter job title" },
            //register_pass: {required: "Enter the password.",minlength:"At least 6 characters"},
            //confirm_pass: {required: "Enter the password confirm.",equalTo:"Confirm password not match"}                        
        },
        errorPlacement: function(error, element) {
          var placement = $(element).data('error');
		  if (placement) {
			$(placement).append(error)
		  } else {
			error.insertAfter(element);
		  }
        }
    });
	
	$('body').on("click",".register_submit",function(e) {
	
		e.preventDefault();
		e.stopPropagation();
		
		if (register_form.valid()) {
			var fullname = $("#reg_username").val();
			var email = $("#reg_email").val();
			var country = $("#reg_countries").val();
			var company = $("#reg_company").val();
			var job_title = $("#reg_job_title").val();
			//var rememberme = $("#rememberme").val();
			var arlet_string = '';
			$(".register_form .alert_status").hide();
			$.ajax({
				type: 'POST',
				data: {
					'action': 'register_submit',
					'name': fullname,
					'register_email': email,
					'country': country,
					'company': company,
					'jobtitle': job_title,
					//'rememberme': rememberme,
				},
				url: data.ajax_url,
				success: function(data) {
					 if (data.register_status == "OK") {
						 //location.reload();
						 $('.registeredemail').text(email);
						 $('#popup-thankyou').css({"opacity":"1","visibility":"visible"});
					 }else{
						 $(".register_form .alert_status").text(arlet_string);
						 $(".register_form .alert_status").show();
					 }
					
				},
				error: function(jqXHR, textStatus, errorThrown) {
					// Handle any errors
				}
			});
		}
		
		
	});

	
	
	var login_form = $(".login_form");
    login_form.validate({
        invalidHandler: function(form, validator) {
            var errors = validator.numberOfInvalids();
            if (errors) {
                $('.alert_status').show();  
                //$('.alert_status').val(validator.errorList[0].message);
                $('.alert_status').text(validator.errorList[0].message);
                validator.errorList[0].element.focus(); //Set Focus
            }
        },
        rules: {
            login_email: {
                required: true,
            },
            login_pwd: {
                required: true,
            },
        },
        messages: {
            login_email: {required: "Enter your E-mail"},
            login_pwd: {required: "Enter your Password", minlength:"At least 6 characters"}                        
        },
        errorPlacement: function(error, element) {
          var placement = $(element).data('error');
		  if (placement) {
			$(placement).append(error)
		  } else {
			error.insertAfter(element);
		  }
        }
    });
//login form ajax.


	$('body').on("click",".signin_submit",function(e) {
	e.preventDefault();
	e.stopPropagation();
	
	if (login_form.valid()) {
		var user = $("#login_email").val();
		var password = $("#login_pwd").val();
		//var rememberme = $("#rememberme").val();
		var arlet_string = '';
		$(".alert_status").hide();
		$.ajax({
			type: 'POST',
			data: {
				'action': 'login_submit',
				'user': user,
				'password': password,
				//'rememberme': rememberme,
			},
			url: data.ajax_url,
			success: function(data) {
				 if (data.login_status == "OK") {
					// location.reload();
					 window.location = data.redirect_url;
				 }else{
					 $(".alert_status").text(data.msg);
                     $(".alert_status").show();
				 }
				
			},
			error: function(jqXHR, textStatus, errorThrown) {
				// Handle any errors
			}
		});
	}
});


var forgotpassword = $(".forgotpassword_form");
forgotpassword.validate({
	// invalidHandler: function(form, validator) {
		// var errors = validator.numberOfInvalids();
		// if (errors) {
			// $('.alert_status').show();  
			// //$('.alert_status').val(validator.errorList[0].message);
			// $('.alert_status').text(validator.errorList[0].message);
			// validator.errorList[0].element.focus(); //Set Focus
		// }
	// },
	rules: {
		user_login: {
			required: true,
		},
	},
	messages: {
		user_login: {required: "Enter your E-mail"}
	},
	errorPlacement: function(error, element) {
		 var placement = $(element).data('error');
		  if (placement) {
			$(placement).append(error)
		  } else {
			error.insertAfter(element);
		  }
	}
});

$('body').on("click",".forgot_submit",function(e) {
	e.preventDefault();
	e.stopPropagation();
	
	if (forgotpassword.valid()) {
		var user = $("#user_login").val();
		var arlet_string = '';
		$(".reset_alert_status").hide();
		$.ajax({
			type: 'POST',
			data: {
				'action': 'forgot_password_submit',
				'user': user
				//'rememberme': rememberme,
			},
			url: data.ajax_url,
			success: function(data) {
				 if (data.login_status == "OK") {
					
					$('#popup-password-text').css({"opacity":"1","visibility":"visible"});
				 }else{
					 $(".alert_status").text(data.msg);
                     $(".alert_status").show();
				 }
				
			},
			error: function(jqXHR, textStatus, errorThrown) {
				// Handle any errors
			}
		});
	}
});





$('#tick2').html($('#tick').html());
//alert($('#tick2').offset.left);

var temp=0,intervalId=0;
$('#tick li').each(function(){
  var offset=$(this).offset();
  var offsetLeft=offset.left;
  $(this).css({'left':offsetLeft+temp});
  temp=$(this).width()+temp+10;
});
$('#tick').css({'width':temp+40, 'margin-left':'20px'});
temp=0;
$('#tick2 li').each(function(){
  var offset=$(this).offset();
  var offsetLeft=offset.left;
  $(this).css({'left':offsetLeft+temp});
  temp=$(this).width()+temp+10;
});
$('#tick2').css({'width':temp+40,'margin-left':temp+40});

function abc(a,b) {  
    
    var marginLefta=(parseInt($("#"+a).css('marginLeft')));
    var marginLeftb=(parseInt($("#"+b).css('marginLeft')));
    if((-marginLefta<=$("#"+a).width())&&(-marginLefta<=$("#"+a).width())){
        $("#"+a).css({'margin-left':(marginLefta-1)+'px'});
    } else {
        $("#"+a).css({'margin-left':temp});
    }
    if((-marginLeftb<=$("#"+b).width())){
        $("#"+b).css({'margin-left':(marginLeftb-1)+'px'});
    } else {
        $("#"+b).css({'margin-left':temp});
    }
} 

     function start() { intervalId = window.setInterval(function() { abc('tick','tick2'); }, 50) }

     $(function(){
          $('#outer').mouseenter(function() { window.clearInterval(intervalId); });
    $('#outer').mouseleave(function() { start(); })
          start();
     });

});