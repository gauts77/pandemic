ggplot(data = stock$Closing.Price)
## GRAPHING DATASTREAM TIME SERIES OF EACH INDEX.
rm(list = ls())
setwd('C:/Users/gauta/Documents/GitHub/pandemic/Data/stockdata/DataStream/data')
library(tidyverse)
library(pandas)
library(lubridate)
library(ggplot2)
stock <- read.csv('stock_ts.csv')
stock$Week <- as.Date(stock$Week, format = "%d/%m/%y")
indx_list <- unique(stock$Index)
for(indx in indx_list){
stock_to_plot <- stock %>%
filter(Index == indx)
my_plot <- ggplot(data = stock_to_plot, aes(x = Week, y = Closing.Price)) +
geom_point(colour = "blue", size = 0.5) +
geom_line(aes(group = 1), colour = "blue") +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red")+
labs(title = paste(indx, "Time Series", sep = " "), x = "Month", y = "Closing Price") ## will be good to add a horizontal line at 12/03/21. Also just make the graphs look better in general.
ggsave(filename = paste(indx, "_time_series.png", sep = ""), plot = my_plot, path = "C:/Users/gauta/Documents/GitHub/pandemic/figures/stock_time_series")
}
##facet graph:
ggplot(data = stock_to_plot, aes(x = Week, y = Closing.Price))
str()
str(stock)
ggplot(data = stock_to_plot, aes(x = Week, y = Closing.Price)) +
geom_point() +
facet_grid()
ggplot(data = stock_to_plot, aes(x = Week, y = Closing.Price)) +
geom_point() +
facet_wrap(~ï..Country)
ggplot(data = stock) +
geom_point() +
facet_wrap(~ï..Country)
ggplot(data = stock, aes(x = stock$Week, y = stock$Closing.Price)) +
geom_point() +
facet_wrap(~ï..Country)
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(size = 0.01) +
facet_wrap(~ï..Country)
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(colour = "blue", size = 0.01) +
facet_wrap(~ï..Country)
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(colour = "blue", size = 0.001) +
geom_line(aes(group = 1), colour = "blue") +
geom_vline(xintercept = as.numeric(Week[9]), linetype = 4, colour = "red") +
facet_wrap(~ï..Country)
##facet graph:
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(colour = "blue", size = 0.001) +
geom_line(aes(group = 1), colour = "blue") +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red") +
facet_wrap(~ï..Country)
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(colour = "blue", size = 0.001) +
geom_line(aes(group = 1), colour = "blue") +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red")
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(colour = "blue", size = 0.001) +
geom_line(aes(group = 1), colour = "blue") +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red") +
facet_grid(Week~Closing.Price)
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(colour = "blue", size = 0.001) +
geom_line(aes(group = 1), colour = "blue") +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red") +
facet_wrap(~ï..Country)
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(colour = "blue", size = 0.001) +
geom_line(aes(group = 1), colour = "blue") +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red") +
facet_wrap(~ï..Country)
ggplot(data = stock, aes(x = Week, y = Closing.Price), ylim(0,100)) +
geom_point(colour = "blue", size = 0.001) +
geom_line(aes(group = 1), colour = "blue") +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red") +
facet_wrap(~ï..Country)
##todo:
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(colour = "blue", size = 0.001) +
geom_line(aes(group = 1), colour = "blue") +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red") +
scale_x_continuous(name = "Closing Price", limits = c(0,100))
facet_wrap(~ï..Country)
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(colour = "blue", size = 0.001) +
geom_line(aes(group = 1), colour = "blue") +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red") +
scale_y_continuous(name = "Closing Price", limits = c(0,100))
facet_wrap(~ï..Country)
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(colour = "blue", size = 0.001) +
geom_line(aes(group = 1), colour = "blue") +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red") +
scale_y_continuous(name = "Closing Price", limits = c(0,100000))
facet_wrap(~ï..Country)
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(colour = "blue", size = 0.001) +
geom_line(aes(group = 1), colour = "blue") +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red") +
scale_y_continuous(name = "Closing Price", limits = (0,100000)) +
facet_wrap(~ï..Country)
##facet graph:
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(colour = "blue", size = 0.001) +
geom_line(aes(group = 1), colour = "blue") +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red") +
scale_y_continuous(name = "Closing Price") +
facet_wrap(~ï..Country)
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(colour = "blue", size = 0.001) +
geom_line(aes(group = 1), colour = "blue") +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red") +
facet_wrap(~ï..Country)
ggplot(data = stock, aes(x = Week, y = Closing.Price))
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(colour = "blue", size = 0.001) +
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(colour = "blue", size = 0.001)
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(colour = "blue", size = 0.001)
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(colour = "blue", size = 0.001) +
facet_grid(~ï..Country)
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(colour = "blue", size = 0.001) +
facet_grid(~ï..Country)
geom_line(aes(group = 1), colour = "blue")
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(colour = "blue", size = 0.001) +
facet_grid(~ï..Country, nrow = 4)
ggplot(data = stock, aes(x = Week, y = Closing.Price, colour = ~ï..Country)) +
geom_point(size = 0.001)
ggplot(data = stock, aes(x = Week, y = Closing.Price, colour = ï..Country)) +
geom_point(size = 0.001)
ggplot(data = stock, aes(x = Week, y = Closing.Price, colour = ï..Country)) +
geom_point(size = 0.001) +
facet_grid(~ï..Country, nrow = 4)
ggplot(data = stock, aes(x = Week, y = Closing.Price, colour = ï..Country)) +
geom_point(size = 0.001) +
facet_wrap(~ï..Country, nrow = 4)
ggplot(data = stock, aes(x = Week, y = Closing.Price, colour = ï..Country)) +
geom_point(size = 0.001) +
facet_wrap(~ï..Country, nrow = 4, scale = "free") +
geom_line(aes(group = 1), colour = "blue") +
ggplot(data = stock, aes(x = Week, y = Closing.Price, colour = ï..Country)) +
geom_point(size = 0.001) +
facet_wrap(~ï..Country, nrow = 4, scale = "free") +
geom_line(aes(group = 1), colour = "blue")
ggplot(data = stock, aes(x = Week, y = Closing.Price, colour = ï..Country)) +
geom_point(size = 0.001) +
facet_wrap(~ï..Country, nrow = 4, scale = "free") +
geom_line(aes(group = 1), colour = "blue")
ggplot(data = stock, aes(x = Week, y = Closing.Price, colour = ï..Country)) +
geom_point(size = 0.001) +
facet_wrap(~ï..Country, nrow = 4, scale = "free") +
geom_line(aes(group = 1), colour = "blue") +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red")
geom_point(size = 0.001) +
facet_wrap(~ï..Country, nrow = 4, scale = "free_y") +
geom_line(aes(group = 1), colour = "blue") +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red")
ggplot(data = stock, aes(x = Week, y = Closing.Price, colour = ï..Country)) +
geom_point(size = 0.001) +
facet_wrap(~ï..Country, nrow = 4, scale = "free_y") +
geom_line(aes(group = 1), colour = "blue") +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red")
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(size = 0.001) +
facet_wrap(~ï..Country, nrow = 4, scale = "free_y") +
geom_line(aes(group = 1), colour = "blue") +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red")
##facet graph:
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(size = 0.001) +
facet_wrap(~ï..Country, nrow = 4, scale = "free_y") +
geom_line(aes(group = 1), colour = "blue") +
scale_y_continuous(breaks = 5)
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red")
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(size = 0.001) +
facet_wrap(~ï..Country, nrow = 4, scale = "free_y") +
geom_line(aes(group = 1), colour = "blue") +
scale_y_continuous(breaks = NULL)
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red")
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(size = 0.001) +
facet_wrap(~ï..Country, nrow = 4, scale = "free_y") +
geom_line(aes(group = 1), colour = "blue") +
theme(axis.ticks = element_blank()) +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red")
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(size = 0.001) +
facet_wrap(~ï..Country, nrow = 4, scale = "free_y") +
geom_line(aes(group = 1), colour = "blue") +
theme(axis.ticks.y = element_blank()) +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red")
##facet graph:
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(size = 0.001) +
facet_wrap(~ï..Country, nrow = 4, scale = "free_y") +
geom_line(aes(group = 1), colour = "blue") +
theme_minmal() +
theme(axis.ticks.y = element_blank())
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(size = 0.001) +
facet_wrap(~ï..Country, nrow = 4, scale = "free_y") +
geom_line(aes(group = 1), colour = "blue") +
theme_minimal() +
theme(axis.ticks.y = element_blank()) +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red")
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(size = 0.001) +
facet_wrap(~ï..Country, nrow = 4, scale = "free_y") +
geom_line(aes(group = 1), colour = "blue") +
theme_minimal() +
theme(axis.text.y = element_blank()) +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red")
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(size = 0.001) +
facet_wrap(~ï..Country, nrow = 4, scale = "free_y") +
geom_line(aes(group = 1), colour = "blue") +
theme_minimal() +
theme(axis.text.y = element_blank()) +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red")
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(size = 0.001) +
facet_wrap(~ï..Country, nrow = 3, scale = "free_y") +
geom_line(aes(group = 1), colour = "blue") +
theme_minimal() +
theme(axis.text.y = element_blank()) +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red")
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(size = 0.001) +
facet_wrap(~ï..Country, nrow = 5, scale = "free_y") +
geom_line(aes(group = 1), colour = "blue") +
theme_minimal() +
theme(axis.text.y = element_blank()) +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red")
p <- ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(size = 0.001) +
facet_wrap(~ï..Country, nrow = 5, scale = "free_y") +
geom_line(aes(group = 1), colour = "blue") +
theme_minimal() +
theme(axis.text.y = element_blank()) +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red")
ggsave(filename = "grouped_time_series.png", plot = p, path = "C:/Users/gauta/Documents/GitHub/pandemic/figures/stock_time_series")
p <- ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(size = 0.001) +
facet_wrap(~ï..Country, nrow = 5, scale = "free_y") +
geom_line(aes(group = 1), colour = "blue") +
theme_minimal() +
theme(axis.text.y = element_blank()) +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red") +
geom_vline(xintercept = as.numeric(stock$Week[10]), linetype = 4, colour = "red")
ggsave(filename = "grouped_time_series.png", plot = p, path = "C:/Users/gauta/Documents/GitHub/pandemic/figures/stock_time_series")
p <- ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(size = 0.001) +
facet_wrap(~ï..Country, nrow = 5, scale = "free_y") +
geom_line(aes(group = 1), colour = "blue") +
theme_minimal() +
theme(axis.text.y = element_blank()) +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red") +
geom_vline(xintercept = as.numeric(stock$Week[10]), linetype = 4, colour = "red")
ggsave(filename = "grouped_time_series.png", plot = p, path = "C:/Users/gauta/Documents/GitHub/pandemic/figures/stock_time_series")
p <- ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(size = 0.001) +
facet_wrap(~ï..Country, nrow = 5, scale = "free_y") +
geom_line(aes(group = 1), colour = "blue") +
theme_minimal() +
theme(axis.text.y = element_blank()) +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red") +
geom_vline(xintercept = as.numeric(stock$Week[10]), linetype = 4, colour = "red") +
geom_rect(aes(xmin = as.numeric(stock$Week[9]), xmax = as.numeric(stock$Week[10])))
p <- ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(size = 0.001) +
facet_wrap(~ï..Country, nrow = 5, scale = "free_y") +
geom_line(aes(group = 1), colour = "blue") +
theme_minimal() +
theme(axis.text.y = element_blank()) +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red") +
geom_vline(xintercept = as.numeric(stock$Week[10]), linetype = 4, colour = "red") +
geom_rect(aes(xmin = as.numeric(stock$Week[9]), xmax = as.numeric(stock$Week[10])))
ggsave(filename = "grouped_time_series.png", plot = p, path = "C:/Users/gauta/Documents/GitHub/pandemic/figures/stock_time_series")
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(size = 0.001) +
facet_wrap(~ï..Country, nrow = 5, scale = "free_y") +
geom_line(aes(group = 1), colour = "blue") +
theme_minimal() +
theme(axis.text.y = element_blank()) +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red") +
geom_vline(xintercept = as.numeric(stock$Week[10]), linetype = 4, colour = "red") +
geom_rect(aes(xmin = as.numeric(stock$Week[9]), xmax = as.numeric(stock$Week[10])))
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(size = 0.001) +
facet_wrap(~ï..Country, nrow = 5, scale = "free_y") +
geom_line(aes(group = 1), colour = "blue") +
theme_minimal() +
theme(axis.text.y = element_blank()) +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red") +
geom_vline(xintercept = as.numeric(stock$Week[10]), linetype = 4, colour = "red") +
geom_rect(aes(xmin = as.numeric(Week[9]), xmax = as.numeric(Week[10])))
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(size = 0.001) +
facet_wrap(~ï..Country, nrow = 5, scale = "free_y") +
geom_line(aes(group = 1), colour = "blue") +
theme_minimal() +
theme(axis.text.y = element_blank()) +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red") +
geom_vline(xintercept = as.numeric(stock$Week[10]), linetype = 4, colour = "red") +
geom_rect(xmin = as.numeric(Week[9]), xmax = as.numeric(Week[10]))
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(size = 0.001) +
facet_wrap(~ï..Country, nrow = 5, scale = "free_y") +
geom_line(aes(group = 1), colour = "blue") +
theme_minimal() +
theme(axis.text.y = element_blank()) +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red") +
geom_vline(xintercept = as.numeric(stock$Week[10]), linetype = 4, colour = "red") +
geom_rect(xmin = as.numeric(stock$Week[9]), xmax = as.numeric(stock$Week[10]))
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(size = 0.001) +
facet_wrap(~ï..Country, nrow = 5, scale = "free_y") +
geom_line(aes(group = 1), colour = "blue") +
theme_minimal() +
theme(axis.text.y = element_blank()) +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red") +
geom_vline(xintercept = as.numeric(stock$Week[10]), linetype = 4, colour = "red") +
geom_rect(xmin = as.numeric(stock$Week[9]), xmax = as.numeric(stock$Week[10]), ymin = 0, ymax = Inf)
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(size = 0.001) +
facet_wrap(~ï..Country, nrow = 5, scale = "free_y") +
geom_line(aes(group = 1), colour = "blue") +
theme_minimal() +
theme(axis.text.y = element_blank()) +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red") +
geom_vline(xintercept = as.numeric(stock$Week[10]), linetype = 4, colour = "red") +
geom_rect(aes(alpha = 0.1), xmin = as.numeric(stock$Week[9]), xmax = as.numeric(stock$Week[10]), ymin = 0, ymax = Inf)
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(size = 0.001) +
facet_wrap(~ï..Country, nrow = 5, scale = "free_y") +
geom_line(aes(group = 1), colour = "blue") +
theme_minimal() +
theme(axis.text.y = element_blank()) +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red") +
geom_vline(xintercept = as.numeric(stock$Week[10]), linetype = 4, colour = "red") +
geom_rect(xmin = as.numeric(stock$Week[9]), xmax = as.numeric(stock$Week[10]), ymin = 0, ymax = Inf, colour = "red")
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(size = 0.001) +
facet_wrap(~ï..Country, nrow = 5, scale = "free_y") +
geom_line(aes(group = 1), colour = "blue") +
theme_minimal() +
theme(axis.text.y = element_blank()) +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red") +
geom_vline(xintercept = as.numeric(stock$Week[10]), linetype = 4, colour = "red") +
geom_rect(xmin = as.numeric(stock$Week[9]), xmax = as.numeric(stock$Week[10]), ymin = 0, ymax = Inf, colour = "red", alpha = 0.1)
ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(size = 0.001) +
facet_wrap(~ï..Country, nrow = 5, scale = "free_y") +
geom_line(aes(group = 1), colour = "blue") +
theme_minimal() +
theme(axis.text.y = element_blank()) +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red") +
geom_vline(xintercept = as.numeric(stock$Week[10]), linetype = 4, colour = "red") +
geom_rect(xmin = as.numeric(stock$Week[9]), xmax = as.numeric(stock$Week[10]), ymin = 0, ymax = Inf, fill = "red", alpha = 0.01)
## GRAPHING DATASTREAM TIME SERIES OF EACH INDEX.
rm(list = ls())
setwd('C:/Users/gauta/Documents/GitHub/pandemic/Data/stockdata/DataStream/data')
library(tidyverse)
library(pandas)
library(lubridate)
library(ggplot2)
stock <- read.csv('stock_ts.csv')
stock$Week <- as.Date(stock$Week, format = "%d/%m/%y")
indx_list <- unique(stock$Index)
for(indx in indx_list){
stock_to_plot <- stock %>%
filter(Index == indx)
my_plot <- ggplot(data = stock_to_plot, aes(x = Week, y = Closing.Price)) +
geom_point(colour = "blue", size = 0.5) +
geom_line(aes(group = 1), colour = "blue") +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red") +
geom_vline(xintercept = as.numeric(stock$Week[10], linetype = 4, colour = "red")) +
labs(title = paste(indx, "Time Series", sep = " "), x = "Month", y = "Closing Price") +
geom_rect(xmin = as.numeric(stock$Week[9]), xmax = as.numeric(stock$Week[10]), ymin = 0, ymax = Inf, fill = "red", alpha = 0.01)
ggsave(filename = paste(indx, "_time_series.png", sep = ""), plot = my_plot, path = "C:/Users/gauta/Documents/GitHub/pandemic/figures/stock_time_series")
}
##facet graph:
p <- ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(size = 0.001) +
facet_wrap(~ï..Country, nrow = 5, scale = "free_y") +
geom_line(aes(group = 1), colour = "blue") +
theme_minimal() +
theme(axis.text.y = element_blank()) +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red") +
geom_vline(xintercept = as.numeric(stock$Week[10]), linetype = 4, colour = "red") +
geom_rect(xmin = as.numeric(stock$Week[9]), xmax = as.numeric(stock$Week[10]), ymin = 0, ymax = Inf, fill = "red", alpha = 0.01)
ggsave(filename = "grouped_time_series.png", plot = p, path = "C:/Users/gauta/Documents/GitHub/pandemic/figures/stock_time_series")
##todo:
## adjust y-axis
## add a single graph with them all using facet wrap.
## GRAPHING DATASTREAM TIME SERIES OF EACH INDEX.
rm(list = ls())
setwd('C:/Users/gauta/Documents/GitHub/pandemic/Data/stockdata/DataStream/data')
library(tidyverse)
library(pandas)
library(lubridate)
library(ggplot2)
stock <- read.csv('stock_ts.csv')
stock$Week <- as.Date(stock$Week, format = "%d/%m/%y")
indx_list <- unique(stock$Index)
for(indx in indx_list){
stock_to_plot <- stock %>%
filter(Index == indx)
my_plot <- ggplot(data = stock_to_plot, aes(x = Week, y = Closing.Price)) +
geom_point(colour = "blue", size = 0.5) +
geom_line(aes(group = 1), colour = "blue") +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red") +
geom_vline(xintercept = as.numeric(stock$Week[10]), linetype = 4, colour = "red") +
labs(title = paste(indx, "Time Series", sep = " "), x = "Month", y = "Closing Price") +
geom_rect(xmin = as.numeric(stock$Week[9]), xmax = as.numeric(stock$Week[10]), ymin = 0, ymax = Inf, fill = "red", alpha = 0.01)
ggsave(filename = paste(indx, "_time_series.png", sep = ""), plot = my_plot, path = "C:/Users/gauta/Documents/GitHub/pandemic/figures/stock_time_series")
}
##facet graph:
p <- ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(size = 0.001) +
facet_wrap(~ï..Country, nrow = 5, scale = "free_y") +
geom_line(aes(group = 1), colour = "blue") +
theme_minimal() +
theme(axis.text.y = element_blank()) +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red") +
geom_vline(xintercept = as.numeric(stock$Week[10]), linetype = 4, colour = "red") +
geom_rect(xmin = as.numeric(stock$Week[9]), xmax = as.numeric(stock$Week[10]), ymin = 0, ymax = Inf, fill = "red", alpha = 0.01)
ggsave(filename = "grouped_time_series.png", plot = p, path = "C:/Users/gauta/Documents/GitHub/pandemic/figures/stock_time_series")
##todo:
## adjust y-axis
## add a single graph with them all using facet wrap.
## GRAPHING DATASTREAM TIME SERIES OF EACH INDEX.
rm(list = ls())
setwd('C:/Users/gauta/Documents/GitHub/pandemic/Data/stockdata/DataStream/data')
library(tidyverse)
library(pandas)
library(lubridate)
library(ggplot2)
stock <- read.csv('stock_ts.csv')
stock$Week <- as.Date(stock$Week, format = "%d/%m/%y")
indx_list <- unique(stock$Index)
for(indx in indx_list){
stock_to_plot <- stock %>%
filter(Index == indx)
my_plot <- ggplot(data = stock_to_plot, aes(x = Week, y = Closing.Price)) +
geom_point(colour = "blue", size = 0.5) +
geom_line(aes(group = 1), colour = "blue") +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red") +
geom_vline(xintercept = as.numeric(stock$Week[10]), linetype = 4, colour = "red") +
labs(title = paste(indx, "Time Series", sep = " "), x = "Month", y = "Closing Price") +
geom_rect(xmin = as.numeric(stock$Week[9]), xmax = as.numeric(stock$Week[10]), ymin = 0, ymax = Inf, fill = "red", alpha = 0.01)
ggsave(filename = paste(indx, "_time_series.png", sep = ""), plot = my_plot, path = "C:/Users/gauta/Documents/GitHub/pandemic/figures/stock_time_series")
}
##facet graph:
p <- ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(size = 0.001) +
facet_wrap(~ï..Country, nrow = 5, scale = "free_y") +
geom_line(aes(group = 1), colour = "blue") +
theme_minimal() +
theme(axis.text.y = element_blank()) +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red") +
geom_vline(xintercept = as.numeric(stock$Week[10]), linetype = 4, colour = "red") +
geom_rect(xmin = as.numeric(stock$Week[9]), xmax = as.numeric(stock$Week[10]), ymin = 0, ymax = Inf, fill = "red", alpha = 0.01)
ggsave(filename = "grouped_time_series.png", plot = p, path = "C:/Users/gauta/Documents/GitHub/pandemic/figures/stock_time_series")
##todo:
## adjust y-axis
## add a single graph with them all using facet wrap.
## GRAPHING DATASTREAM TIME SERIES OF EACH INDEX.
rm(list = ls())
setwd('C:/Users/gauta/Documents/GitHub/pandemic/Data/stockdata/DataStream/data')
library(tidyverse)
library(pandas)
library(lubridate)
library(ggplot2)
stock <- read.csv('stock_ts.csv')
stock$Week <- as.Date(stock$Week, format = "%d/%m/%y")
indx_list <- unique(stock$Index)
for(indx in indx_list){
stock_to_plot <- stock %>%
filter(Index == indx)
my_plot <- ggplot(data = stock_to_plot, aes(x = Week, y = Closing.Price)) +
geom_point(colour = "blue", size = 0.5) +
geom_line(aes(group = 1), colour = "blue") +
theme_minimal() +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red") +
geom_vline(xintercept = as.numeric(stock$Week[10]), linetype = 4, colour = "red") +
labs(title = paste(indx, "Time Series", sep = " "), x = "Month", y = "Closing Price") +
geom_rect(xmin = as.numeric(stock$Week[9]), xmax = as.numeric(stock$Week[10]), ymin = 0, ymax = Inf, fill = "red", alpha = 0.01)
ggsave(filename = paste(indx, "_time_series.png", sep = ""), plot = my_plot, path = "C:/Users/gauta/Documents/GitHub/pandemic/figures/stock_time_series")
}
##facet graph:
p <- ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(size = 0.001) +
facet_wrap(~ï..Country, nrow = 5, scale = "free_y") +
geom_line(aes(group = 1), colour = "blue") +
theme_minimal() +
labs(title = paste(indx, "Time Series", sep = " "), x = "Month", y = "Closing Price") +
theme(axis.text.y = element_blank()) +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red") +
geom_vline(xintercept = as.numeric(stock$Week[10]), linetype = 4, colour = "red") +
geom_rect(xmin = as.numeric(stock$Week[9]), xmax = as.numeric(stock$Week[10]), ymin = 0, ymax = Inf, fill = "red", alpha = 0.01)
ggsave(filename = "grouped_time_series.png", plot = p, path = "C:/Users/gauta/Documents/GitHub/pandemic/figures/stock_time_series")
##todo:
## adjust y-axis
## add a single graph with them all using facet wrap.
