setwd("C:/Users/gauta/Documents")
country_une_data <- read.csv("Real PS3 Data Men.csv")
#THIS CODE COULD PROBABLY BE IMPROVED
belgium_data <- filter(country_une_data, "GEO"=="Belgium")
belgium_data <- mutate(belgium_data, truedate=as.yearmon(TIME,"%Y%b"))
ggplot(belgium_data, aes(x=truedate,y=Value, group=1)) +geom_line()
belgium_data <- mutate(belgium_data, truedate=as.yearmon(TIME,"%Y%b"))
#A: The Labour Market
#Countries: Austria Denmark Germany Belgium
library(zoo)
library(forecast)
library(tidyverse)
library(ggplot2)
belgium_data <- mutate(belgium_data, truedate=as.yearmon(TIME,"%Y%b"))
belgium_data <- filter(country_une_data, "GEO"=="Belgium")
belgium_data <- mutate(belgium_data, truedate=as.yearmon(TIME,"%Y%b"))
rm(list = ls())
setwd("C:/Users/gauta/Documents")
country_une_data <- read.csv("Real PS3 Data Men.csv")
#THIS CODE COULD PROBABLY BE IMPROVED
belgium_data <- filter(country_une_data, "GEO"=="Belgium")
belgium_data <- mutate(belgium_data, truedate=as.yearmon(TIME,"%Y%b"))
ggplot(belgium_data, aes(x=truedate,y=Value, group=1)) +geom_line()
#THIS CODE COULD PROBABLY BE IMPROVED
belgium_data <- filter(country_une_data, GEO=="Belgium")
belgium_data <- mutate(belgium_data, truedate=as.yearmon(TIME,"%Y%b"))
ggplot(belgium_data, aes(x=truedate,y=Value, group=1)) +geom_line()  #can we adjust y scale and make it look nicer?
austria_data <- filter(country_une_data, GEO=="Austria")
austria_data <- mutate(austria_data, truedate=as.yearmon(TIME,"%Y%b"))
ggplot(austria_data, aes(x=truedate,y=Value, group=1)) +geom_line()
germany_data <- filter(country_une_data, GEO=="Germany")
germany_data <- mutate(germany_data, truedate=as.yearmon(TIME,"%Y%b"))
ggplot(germany_data, aes(x=truedate,y=Value, group=1)) +geom_line()
denmark_data <- filter(country_une_data, GEO=="Denmark")
denmark_data <- mutate(denmark_data, truedate=as.yearmon(TIME,"%Y%b"))
ggplot(denmark_data, aes(x=truedate,y=Value, group=1)) +geom_line()
seasadj(belgium_data)
une_B <- select("Value")
une_B <- select(Value)
une_B <- filter(belgium_data, Value)
une_B <- select(belgium_data,Value)
View(une_B)
trend_B <- ma(une_B)
trend_B <- ma(une_B, order=13)
trend_B
residual_B <- une_B- trend_B
residual_B <- une_B-trend_B
library(seasonal)
bel_seas <- seas(belgium_data, X11())
bel_seas <- seas(belgium_data, X11)
rm(list = ls())
library(seasonal)
plot(USAccDeaths)
sa_series <- seas(AirPassengers,X11())
plot(USAccDeaths)
lines(final(sa_series),col=2)
#A: The Labour Market
#Countries: Austria Denmark Germany Belgium
library(zoo)
library(forecast)
library(tidyverse)
library(ggplot2)
library(seasonal)
rm(list = ls())
setwd("C:/Users/gauta/Documents")
country_une_data <- read.csv("Real PS3 Data Men.csv")
#THIS CODE COULD PROBABLY BE IMPROVED
belgium_data <- filter(country_une_data, GEO=="Belgium")
belgium_data <- mutate(belgium_data, truedate=as.yearmon(TIME,"%Y%b"))
ggplot(belgium_data, aes(x=truedate,y=Value, group=1)) +geom_line()
bel_seas <- seas(bel_une, X11)#extract data into time series: 1 column
bel_une <- belgium_data$Value
bel_seas <- seas(bel_une, X11)
bel_une <- filter(belgium_data,GEO)
ma(belgium_data$Value)
ma(belgium_data$Value, order = 13)
country_seas_data <- read.csv("Real PS3 Data M seas.csv")
bel_seas <- mutate(bel_seas,truedate_b2=as.yearmon(TIME, "%Y%b"))
bel_seas <- filter(country_seas_data, GEO=="Belgium")
bel_seas <- mutate(bel_seas,truedate_b2=as.yearmon(TIME, "%Y%b"))
#A: The Labour Market
#Countries: Austria Denmark Germany Belgium
library(zoo)
library(forecast)
library(tidyverse)
library(ggplot2)
library(seasonal)
rm(list = ls())
setwd("C:/Users/gauta/Documents")
country_une_data <- read.csv("Real PS3 Data Men.csv")
country_seas_data <- read.csv("Real PS3 Data M seas.csv")
bel_data <- filter(country_une_data, GEO=="Belgium")
bel_data <- mutate(bel_data, truedate_b1=as.yearmon(TIME,"%Y%b"))
bel_seas <- filter(country_seas_data, GEO=="Belgium")
bel_seas <- mutate(bel_seas,truedate_b2=as.yearmon(TIME, "%Y%b"))
ggplot(bel_data, aes(x=truedate_b1,y=Value, group=1)) +geom_line()
merge(bel_data,bel_seas)
bel_data["C"] <- lapply(bel_data["C"], as.numeric)
View(bel_data)
bel_data["C"] <- lapply(bel_data["TIME"], as.numeric)
bel_data["Value"] <- lapply(bel_data["Value"], as.numeric)
#A: The Labour Market
#Countries: Austria Denmark Germany Belgium
library(zoo)
library(forecast)
library(tidyverse)
library(ggplot2)
library(seasonal)
rm(list = ls())
setwd("C:/Users/gauta/Documents")
country_une_data <- read.csv("Real PS3 Data Men.csv")
country_seas_data <- read.csv("Real PS3 Data M seas.csv")
bel_data <- filter(country_une_data, GEO=="Belgium")
bel_seas <- filter(country_seas_data, GEO=="Belgium")
mer_data_BM <- inner_join(bel_data,bel_seas, by=c("TIME", "Value"))
View(mer_data_BM)
mer_data_BM <- inner_join(bel_data,bel_seas, by=c("TIME"))
View(mer_data_BM)
mer_data_BM <- select(mer_data_BM,TIME)
#A: The Labour Market
#Countries: Austria Denmark Germany Belgium
library(zoo)
library(forecast)
library(tidyverse)
library(ggplot2)
library(seasonal)
rm(list = ls())
setwd("C:/Users/gauta/Documents")
country_une_data <- read.csv("Real PS3 Data Men.csv")
country_seas_data <- read.csv("Real PS3 Data M seas.csv")
bel_data <- filter(country_une_data, GEO=="Belgium")
bel_seas <- filter(country_seas_data, GEO=="Belgium")
mer_data_BM <- inner_join(bel_data,bel_seas, by=c("TIME"))
View(mer_data_BM)
mer_data_BM <- select(mer_data_BM,TIME,Value.x,Value.y)
View(mer_data_BM)
mer_data_BM <- mutate(mer_data_BM, truedate=as.yearmon(TIME,"%Y%b"))
View(mer_data_BM)
mer_data_BM <- select(mer_data_BM,truedate,Value.x,Value.y)
View(mer_data_BM)
ggplot(mer_data_BM, aes(x=truedate,y=Value.x$Value.y, group=1))+geom_line
#A: The Labour Market
#Countries: Austria Denmark Germany Belgium
library(zoo)
library(forecast)
library(tidyverse)
library(ggplot2)
library(seasonal)
rm(list = ls())
setwd("C:/Users/gauta/Documents")
country_une_data <- read.csv("Real PS3 Data Men.csv")
country_seas_data <- read.csv("Real PS3 Data M seas.csv")
bel_data <- filter(country_une_data, GEO=="Belgium")
bel_seas <- filter(country_seas_data, GEO=="Belgium")
mer_data_BM <- inner_join(bel_data,bel_seas, by=c("TIME"))
mer_data_BM <- mutate(mer_data_BM, truedate=as.yearmon(TIME,"%Y%b"))
mer_data_BM <- select(mer_data_BM,truedate,Value.x,Value.y)
ggplot(mer_data_BM, aes(x=truedate,y=Value.x$Value.y, group=1))+geom_line
#A: The Labour Market
#Countries: Austria Denmark Germany Belgium
library(zoo)
library(forecast)
library(tidyverse)
library(ggplot2)
library(seasonal)
rm(list = ls())
setwd("C:/Users/gauta/Documents")
country_une_data <- read.csv("Real PS3 Data Men.csv")
country_seas_data <- read.csv("Real PS3 Data M seas.csv")
bel_data <- filter(country_une_data, GEO=="Belgium")
bel_seas <- filter(country_seas_data, GEO=="Belgium")
mer_data_BM <- inner_join(bel_data,bel_seas, by=c("TIME"))
mer_data_BM <- mutate(mer_data_BM, truedate=as.yearmon(TIME,"%Y%b"))
mer_data_BM <- select(mer_data_BM,truedate,Value.x,Value.y)
ggplot(mer_data_BM, aes(x=truedate,y=Value.x, group=1))+geom_line
#A: The Labour Market
#Countries: Austria Denmark Germany Belgium
library(zoo)
library(forecast)
library(tidyverse)
library(ggplot2)
library(seasonal)
rm(list = ls())
setwd("C:/Users/gauta/Documents")
country_une_data <- read.csv("Real PS3 Data Men.csv")
country_seas_data <- read.csv("Real PS3 Data M seas.csv")
bel_data <- filter(country_une_data, GEO=="Belgium")
bel_seas <- filter(country_seas_data, GEO=="Belgium")
mer_data_BM <- inner_join(bel_data,bel_seas, by=c("TIME"))
mer_data_BM <- mutate(mer_data_BM, truedate=as.yearmon(TIME,"%Y%b"))
mer_data_BM <- select(mer_data_BM,truedate,Value.x,Value.y)
ggplot(mer_data_BM, aes(x=truedate,y=Value.x, group=1))+geom_line()
ggplot(mer_data_BM, aes(x=truedate,y=Value.x$Value.y, group=1))+geom_line()
ggplot(bel_data) +geom_line(aes(x=truedate, y=Value.x))
bel_data <- filter(country_une_data, GEO=="Belgium")
bel_seas <- filter(country_seas_data, GEO=="Belgium")
mer_data_BM <- inner_join(bel_data,bel_seas, by=c("TIME"))
mer_data_BM <- mutate(mer_data_BM, truedate=as.yearmon(TIME,"%Y%b"))
mer_data_BM <- select(mer_data_BM,truedate,Value.x,Value.y)
ggplot(mer_data_BM, aes(x=truedate,y=Value.x, group=1))+geom_line(x=truedate)
ggplot(bel_data) +geom_line(aes(x=truedate, y=Value.x))
bel_seas <- filter(country_seas_data, GEO=="Belgium")
mer_data_BM <- inner_join(bel_data,bel_seas, by=c("TIME"))
mer_data_BM <- mutate(mer_data_BM, truedate=as.yearmon(TIME,"%Y%b"))
mer_data_BM <- select(mer_data_BM,truedate,Value.x,Value.y)
ggplot(bel_data) +geom_line(aes(x=truedate, y=Value.x))
View(mer_data_BM)
ggplot(bel_data, aes(x=truedate,y=Value.x)+geom_line
bel_data <- filter(country_une_data, GEO=="Belgium")
bel_seas <- filter(country_seas_data, GEO=="Belgium")
mer_data_BM <- inner_join(bel_data,bel_seas, by=c("TIME"))
mer_data_BM <- mutate(mer_data_BM, truedate=as.yearmon(TIME,"%Y%b"))
mer_data_BM <- select(mer_data_BM,truedate,Value.x,Value.y)
ggplot(bel_data, aes(x=truedate,y=Value.x)+geom_line
rm(list = ls())
rm(list = ls())
ggplot(bel_data, aes(x=truedate,y=Value.x)+geom_line()
#A: The Labour Market
#Countries: Austria Denmark Germany Belgium
library(zoo)
library(forecast)
library(tidyverse)
library(ggplot2)
library(seasonal)
rm(list = ls())
setwd("C:/Users/gauta/Documents")
country_une_data <- read.csv("Real PS3 Data Men.csv")
country_seas_data <- read.csv("Real PS3 Data M seas.csv")
bel_data <- filter(country_une_data, GEO=="Belgium")
bel_seas <- filter(country_seas_data, GEO=="Belgium")
mer_data_BM <- inner_join(bel_data,bel_seas, by=c("TIME"))
mer_data_BM <- mutate(mer_data_BM, truedate=as.yearmon(TIME,"%Y%b"))
mer_data_BM <- select(mer_data_BM,truedate,Value.x,Value.y)
ggplot(bel_data, aes(x=truedate,y=Value.x)+geom_line()
ggplot(mer_data_BM, aes(x=truedate,y=Value.x, group=1))+geom_line
ggplot(mer_data_BM, aes(x=truedate,y=Value.x, group=1))+geom_line()
ggplot(mer_data_BM, aes(x=truedate,y=Value.x, group=1))+geom_line()+geom_line(aes(x=truedate, y=Value.y)
setwd("C:/Users/gauta/Documents")
country_une_data <- read.csv("Real PS3 Data Men.csv")
country_seas_data <- read.csv("Real PS3 Data M seas.csv")
bel_data <- filter(country_une_data, GEO=="Belgium")
bel_seas <- filter(country_seas_data, GEO=="Belgium")
mer_data_BM <- inner_join(bel_data,bel_seas, by=c("TIME"))
mer_data_BM <- mutate(mer_data_BM, truedate=as.yearmon(TIME,"%Y%b"))
mer_data_BM <- select(mer_data_BM,truedate,Value.x,Value.y)
ggplot(mer_data_BM, aes(x=truedate,y=Value.x, group=1))+geom_line()+geom_line(aes(x=truedate, y=Value.y)
ggplot(mer_data_BM, aes(x=truedate,y=Value.x, group=1))+geom_line()+geom_line(aes(x=truedate, y=Value.y))
ggplot(mer_data_BM, aes(x=truedate,y=Value.x, group=1))+geom_line()+geom_line(aes(x=truedate, y=Value.y))
View(bel_seas)
View(mer_data_BM)
View(bel_seas)
View(mer_data_BM)
ggplot(mer_data_BM, aes(x=truedate,y=Value.x, group=1))+geom_line()+geom_line(aes(x=truedate, y=Value.y, color="red"))
ggplot(mer_data_BM, aes(x=truedate,y=Value.x, group=1, xlab="Unemployment Rate (%)", ylab="Time"))+geom_line()+geom_line(aes(x=truedate, y=Value.y, color="red"))
ggplot(mer_data_BM, aes(x=truedate,y=Value.x, group=1, xlab="Unemployment Rate (%)", ylab="Time"))+geom_line()+geom_line(aes(x=truedate, y=Value.y, color="red",xlab="Unemployment Rate (%)", ylab="Time"))
#A: The Labour Market
#Countries: Austria Denmark Germany Belgium
library(zoo)
library(forecast)
library(tidyverse)
library(ggplot2)
library(seasonal)
rm(list = ls())
setwd("C:/Users/gauta/Documents")
country_une_data <- read.csv("Real PS3 Data Men.csv")
country_seas_data <- read.csv("Real PS3 Data M seas.csv")
bel_data <- filter(country_une_data, GEO=="Belgium")
bel_seas <- filter(country_seas_data, GEO=="Belgium")
mer_data_BM <- inner_join(bel_data,bel_seas, by=c("TIME"))
mer_data_BM <- mutate(mer_data_BM, truedate=as.yearmon(TIME,"%Y%b"))
mer_data_BM <- select(mer_data_BM,truedate,Value.x,Value.y)
ggplot(mer_data_BM, aes(x=truedate,y=Value.x, group=1, xlab="Unemployment Rate (%)", ylab="Time"))+geom_line()+geom_line(aes(x=truedate, y=Value.y, color="red",xlab="Unemployment Rate (%)", ylab="Time"))
ggplot(mer_data_BM, aes(x=truedate,y=Value.x, group=1,))+geom_line()+geom_line(aes(x=truedate, y=Value.y, color="red"))+labs(x="Time",y="Unemployment Rate (%)")
ggplot(mer_data_BM, aes(x=truedate,y=Value.x, group=1,))+geom_line()+geom_line(aes(x=truedate, y=Value.y, color="seasonally adjusted"))+labs(x="Time",y="Unemployment Rate (%)")
ggplot(mer_data_BM, aes(x=truedate,y=Value.x, group=1,))+geom_line()+geom_line(aes(x=truedate, y=Value.y, color="seasonally adjusted"))+labs(x="Time",y="Unemployment Rate (%)")+theme_classic()
#A: The Labour Market
#Countries: Austria Denmark Germany Belgium
install.packages("ggthemes")
ggplot(mer_data_BM, aes(x=truedate,y=Value.x, group=1,))+geom_line()+geom_line(aes(x=truedate, y=Value.y, color="seasonally adjusted"))+labs(x="Time",y="Unemployment Rate (%)")+theme_economist()
library(ggthemes)
library(zoo)
library(forecast)
library(tidyverse)
library(ggplot2)
library
rm(list = ls())
setwd("C:/Users/gauta/Documents")
country_une_data <- read.csv("Real PS3 Data Men.csv")
country_seas_data <- read.csv("Real PS3 Data M seas.csv")
bel_data <- filter(country_une_data, GEO=="Belgium")
bel_seas <- filter(country_seas_data, GEO=="Belgium")
mer_data_BM <- inner_join(bel_data,bel_seas, by=c("TIME"))
mer_data_BM <- mutate(mer_data_BM, truedate=as.yearmon(TIME,"%Y%b"))
mer_data_BM <- select(mer_data_BM,truedate,Value.x,Value.y)
ggplot(mer_data_BM, aes(x=truedate,y=Value.x, group=1,))+geom_line()+geom_line(aes(x=truedate, y=Value.y, color="seasonally adjusted"))+labs(x="Time",y="Unemployment Rate (%)")+theme_economist()
BM_graph <- ggplot(mer_data_BM, aes(x=truedate,y=Value.x, group=1,))
BM_graph <- ggplot(mer_data_BM, aes(x=truedate,y=Value.x, group=1,))%>%
geom_line()+geom_line(aes(x=truedate, y=Value.y, color="seasonally adjusted"))%>%
+labs(x="Time",y="Unemployment Rate (%)")+theme_economist()
BM_graph <- ggplot(mer_data_BM, aes(x=truedate,y=Value.x, group=1,))+
geom_line()+geom_line(aes(x=truedate, y=Value.y, color="seasonally adjusted"))+
+labs(x="Time",y="Unemployment Rate (%)")+theme_economist()
BM_graph <- ggplot(mer_data_BM, aes(x=truedate,y=Value.x, group=1,))+ geom_line()+geom_line(aes(x=truedate, y=Value.y, color="seasonally adjusted"))+labs(x="Time",y="Unemployment Rate (%)")+theme_economist()
?scale_y_continuous
BM_graph <- ggplot(mer_data_BM, aes(x=truedate,y=Value.x, group=1,))+ geom_line()+geom_line(aes(x=truedate, y=Value.y, color="seasonally adjusted"))+labs(x="Time",y="Unemployment Rate (%)")+theme_economist()+scale_y_continuous(minor_breaks = "1")
BM_graph <- ggplot(mer_data_BM, aes(x=truedate,y=Value.x, group=1,))+ geom_line()+geom_line(aes(x=truedate, y=Value.y, color="seasonally adjusted"))+labs(x="Time",y="Unemployment Rate (%)")+theme_economist()+scale_y_continuous(minor_breaks = "1")
#A: The Labour Market
#Countries: Austria Denmark Germany Belgium
library(ggthemes)
library(zoo)
library(forecast)
library(tidyverse)
library(ggplot2)
library
rm(list = ls())
setwd("C:/Users/gauta/Documents")
country_une_data <- read.csv("Real PS3 Data Men.csv")
country_seas_data <- read.csv("Real PS3 Data M seas.csv")
bel_data <- filter(country_une_data, GEO=="Belgium")
bel_seas <- filter(country_seas_data, GEO=="Belgium")
mer_data_BM <- inner_join(bel_data,bel_seas, by=c("TIME"))
mer_data_BM <- mutate(mer_data_BM, truedate=as.yearmon(TIME,"%Y%b"))
mer_data_BM <- select(mer_data_BM,truedate,Value.x,Value.y)
BM_graph <- ggplot(mer_data_BM, aes(x=truedate,y=Value.x, group=1,))+ geom_line()+geom_line(aes(x=truedate, y=Value.y, color="seasonally adjusted"))+labs(x="Time",y="Unemployment Rate (%)")+theme_economist()+scale_y_continuous(minor_breaks = "1")
BM_graph <- ggplot(mer_data_BM, aes(x=truedate,y=Value.x, group=1,))+ geom_line()+geom_line(aes(x=truedate, y=Value.y, color="seasonally adjusted"))+labs(x="Time",y="Unemployment Rate (%)")+theme_economist()+scale_y_continuous(limits = c(1,2,3,4,5,6))
BM_graph <- ggplot(mer_data_BM, aes(x=truedate,y=Value.x, group=1,))+ geom_line()+geom_line(aes(x=truedate, y=Value.y, color="seasonally adjusted"))+labs(x="Time",y="Unemployment Rate (%)")+theme_economist()+ylim(0,10)
BM_graph <- ggplot(mer_data_BM, aes(x=truedate,y=Value.x, group=1,))+ geom_line()+geom_line(aes(x=truedate, y=Value.y, color="seasonally adjusted"))+labs(x="Time",y="Unemployment Rate (%)")+theme_economist()
BM_graph <- ggplot(mer_data_BM, aes(x=truedate,y=Value.x, group=1,))+ geom_line()+geom_line(aes(x=truedate, y=Value.y, color="seasonally adjusted"))+labs(x="Time",y="Unemployment Rate (%)")+theme_economist()+ylim(0,5)
BM_graph <- ggplot(mer_data_BM, aes(x=truedate,y=Value.x, group=1,))+ geom_line()+geom_line(aes(x=truedate, y=Value.y, color="seasonally adjusted"))+labs(x="Time",y="Unemployment Rate (%)")+theme_economist()+scale_y_continuous(breaks=seq(0,1,2,3,4,5,6,7,8,9,10)
BM_graph <- ggplot(mer_data_BM, aes(x=truedate,y=Value.x, group=1,))+ geom_line()+geom_line(aes(x=truedate, y=Value.y, color="seasonally adjusted"))+labs(x="Time",y="Unemployment Rate (%)")+theme_economist()+scale_y_continuous(breaks=seq(0,1,2,3,4,5,6,7,8,9,10))
#A: The Labour Market
#Countries: Austria Denmark Germany Belgium
library(ggthemes)
library(zoo)
library(forecast)
library(tidyverse)
library(ggplot2)
library
rm(list = ls())
setwd("C:/Users/gauta/Documents")
country_une_data <- read.csv("Real PS3 Data Men.csv")
country_seas_data <- read.csv("Real PS3 Data M seas.csv")
bel_data <- filter(country_une_data, GEO=="Belgium")
bel_seas <- filter(country_seas_data, GEO=="Belgium")
mer_data_BM <- inner_join(bel_data,bel_seas, by=c("TIME"))
mer_data_BM <- mutate(mer_data_BM, truedate=as.yearmon(TIME,"%Y%b"))
mer_data_BM <- select(mer_data_BM,truedate,Value.x,Value.y)
BM_graph <- ggplot(mer_data_BM, aes(x=truedate,y=Value.x, group=1,))+ geom_line()+geom_line(aes(x=truedate, y=Value.y, color="seasonally adjusted"))+labs(x="Time",y="Unemployment Rate (%)")+theme_economist()+scale_y_continuous(breaks=seq(0,1,2,3,4,5,6,7,8,9,10))
BM_graph <- ggplot(mer_data_BM, aes(x=truedate,y=Value.x, group=1,))+ geom_line()+geom_line(aes(x=truedate, y=Value.y, color="seasonally adjusted"))+labs(x="Time",y="Unemployment Rate (%)")+theme_economist()+scale_y_continuous(breaks=seq(5,6,7,8))
BM_graph <- ggplot(mer_data_BM, aes(x=truedate,y=Value.x, group=1,))+ geom_line()+geom_line(aes(x=truedate, y=Value.y, color="seasonally adjusted"))+labs(x="Time",y="Unemployment Rate (%)")+theme_economist()+scale_y_continuous(breaks=seq(5,6))
#use zoo package for as.yearmon date manipulation
#tidyverse for ggplot graphing
#forecast for moving average
library(zoo)
library(tidyverse)
library(forecast)
#load the test data and plot it
rm(list = ls()) #remove everything
setwd("C:/Users/Public/Public Documents") #set working directory to Downloads
test_data <- read.csv("data_for_testing.csv")#load test data csv file
#create new variable "truedate" in date format that can be plotted
test_data <- mutate(test_data, truedate=as.yearmon(time,"%b-%y"))
#plot line chart with date on x axis and unemployment rate on y axis
ggplot(test_data, aes(x=truedate,y=unemployment_rate))+geom_line()+labs(x="Date",y="Unemployment rate (%)")
seas_adj_function <- function(){
#STEP 1: MOVING AVERAGE: identify Tt from Yt= St+Tt+Ct+Et
#store unempoyment rate as a variable
unemployment_rate <- test_data$unemployment_rate
#compute moving average with 13 months (so 6 on each side of centre)
trend_level <- ma(unemployment_rate,order = 13)
#trend_level= Tt
#STEP 2: Extract trend level (to leave St+Ct+Et)
residual_1 <- unemployment_rate-trend_level
residual_1
#STEP 3:  Take the moving average of each month's resiudal over years to gain the 'monthly effect'
#want to put all the month vectors together into one vector with length 429
empty_vector <- rep((NA), length(residual_1)) #make a vector that just says NA for all the spaces of the effects
print(empty_vector)
#using a for loop to avoid rewriting code for every month
#first iteration will print the residual for 12n+1 (January), second iteration will print the residual for 12n+2 (February) etc
for (s in 1:12) {
#take the value of every residual in the sequence '12n+s', where s is the integer value of a month (e.g June=6)
month <- residual_1[(seq(s,length(residual_1), by=12))]
#create a moving average over these monthly residuals
seasonal_effect <-ma(month, order = 3)
#store the moving average of the residuals (the seasonal effect) in the empty vector (so all monthly values are stored in the same vector)
empty_vector [(seq(s,length(residual_1), by=12))] <- seasonal_effect
}
empty_vector
#STEP 4: subtract St from Yt to give seasonally adjusted data
adj_data <- unemployment_rate- empty_vector
#Step 5: Repeat x times
#ma(seas_adj_data, order = 13)
return(adj_data)
}
seas_adj_function()
rm(list = ls())
setwd("C:/Users/gauta/Documents")
country_une_data <- read.csv("Real PS3 Data Men.csv")
country_seas_data <- read.csv("Real PS3 Data M seas.csv")
library(ggthemes)
library(zoo)
library(forecast)
library(tidyverse)
library(ggplot2)
library
rm(list = ls())
setwd("C:/Users/gauta/Documents")
country_une_data <- read.csv("Real PS3 Data Men.csv")
country_seas_data <- read.csv("Real PS3 Data M seas.csv")
bel_data <- filter(country_une_data, GEO=="Belgium")
bel_seas <- filter(country_seas_data, GEO=="Belgium")
mer_data_BM <- inner_join(bel_data,bel_seas, by=c("TIME"))
mer_data_BM <- mutate(mer_data_BM, truedate=as.yearmon(TIME,"%Y%b"))
mer_data_BM <- select(mer_data_BM,truedate,Value.x,Value.y)
BM_graph <- ggplot(mer_data_BM, aes(x=truedate,y=Value.x, group=1,))+ geom_line()+geom_line(aes(x=truedate, y=Value.y, color="seasonally adjusted"))+labs(x="Time",y="Unemployment Rate (%)")+theme_economist()+scale_y_continuous(breaks=seq(5,6))
rm(list = ls())
library(seasonal)
plot(USAccDeaths)
sa_series <- seas(AirPassengers,X11())
plot(USAccDeaths)
lines(final(sa_series),col=2)
#use zoo package for as.yearmon date manipulation
#tidyverse for ggplot graphing
#forecast for moving average
library(zoo)
library(tidyverse)
library(forecast)
#load the test data and plot it
rm(list = ls()) #remove everything
setwd("C:/Users/Public/Public Documents") #set working directory to Downloads
test_data <- read.csv("data_for_testing.csv")#load test data csv file
#create new variable "truedate" in date format that can be plotted
test_data <- mutate(test_data, truedate=as.yearmon(time,"%b-%y"))
#plot line chart with date on x axis and unemployment rate on y axis
ggplot(test_data, aes(x=truedate,y=unemployment_rate))+geom_line()+labs(x="Date",y="Unemployment rate (%)")
#use zoo package for as.yearmon date manipulation
#tidyverse for ggplot graphing
#forecast for moving average
library(zoo)
library(tidyverse)
library(forecast)
#load the test data and plot it
rm(list = ls()) #remove everything
setwd("C:/Users/gauta/Documents") #set working directory to Downloads
test_data <- read.csv("data_for_testing.csv")#load test data csv file
#create new variable "truedate" in date format that can be plotted
test_data <- mutate(test_data, truedate=as.yearmon(time,"%b-%y"))
#plot line chart with date on x axis and unemployment rate on y axis
ggplot(test_data, aes(x=truedate,y=unemployment_rate))+geom_line()+labs(x="Date",y="Unemployment rate (%)")
## GRAPHING DATASTREAM TIME SERIES OF EACH INDEX.
rm(list = ls())
setwd('C:/Users/gauta/Documents/GitHub/pandemic/Data/stockdata/DataStream/data')
library(tidyverse)
library(pandas)
library(lubridate)
library(ggplot2)
stock <- read.csv('stock_ts.csv')
stock$Week <- as.Date(stock$Week, format = "%d/%m/%y")
indx_list <- unique(stock$Index)
for(indx in indx_list){
stock_to_plot <- stock %>%
filter(Index == indx)
my_plot <- ggplot(data = stock_to_plot, aes(x = Week, y = Closing.Price)) +
geom_point(colour = "blue", size = 0.5) +
geom_line(aes(group = 1), colour = "blue") +
theme_minimal() +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red") +
geom_vline(xintercept = as.numeric(stock$Week[10]), linetype = 4, colour = "red") +
labs(title = paste(indx, "Time Series (highlighted area is week of WHO announcement)", sep = " "), x = "Month", y = "Closing Price") +
geom_rect(xmin = as.numeric(stock$Week[9]), xmax = as.numeric(stock$Week[10]), ymin = 0, ymax = Inf, fill = "red", alpha = 0.01)
ggsave(filename = paste(indx, "_time_series.png", sep = ""), plot = my_plot, path = "C:/Users/gauta/Documents/GitHub/pandemic/figures/stock_time_series")
}
## GRAPHING DATASTREAM TIME SERIES OF EACH INDEX.
rm(list = ls())
setwd('C:/Users/gauta/Documents/GitHub/pandemic/Data/stockdata/DataStream/data')
library(tidyverse)
library(pandas)
library(lubridate)
library(ggplot2)
stock <- read.csv('stock_ts.csv')
stock$Week <- as.Date(stock$Week, format = "%d/%m/%y")
indx_list <- unique(stock$Index)
##for loop generating time series by country
for(indx in indx_list){
stock_to_plot <- stock %>%
filter(Index == indx)
my_plot <- ggplot(data = stock_to_plot, aes(x = Week, y = Closing.Price)) +
geom_point(colour = "blue", size = 0.5) +
geom_line(aes(group = 1), colour = "blue") +
theme_minimal() +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red") +
geom_vline(xintercept = as.numeric(stock$Week[10]), linetype = 4, colour = "red") +
labs(title = paste(indx, "Time Series (highlighted area is week of WHO announcement)", sep = " "), x = "Month", y = "Closing Price") +
geom_rect(xmin = as.numeric(stock$Week[9]), xmax = as.numeric(stock$Week[10]), ymin = 0, ymax = Inf, fill = "red", alpha = 0.01)
ggsave(filename = paste(indx, "_time_series.png", sep = ""), plot = my_plot, path = "C:/Users/gauta/Documents/GitHub/pandemic/figures/stock_time_series")
}
##facet graph:
p <- ggplot(data = stock, aes(x = Week, y = Closing.Price)) +
geom_point(size = 0.001) +
facet_wrap(~ï..Country, nrow = 5, scale = "free_y") +
geom_line(aes(group = 1), colour = "blue") +
theme_minimal() +
labs(title = paste("Time Series (highlighted area is week of WHO announcement)"), x = "Month", y = "Closing Price") +
theme(axis.text.y = element_blank()) +
geom_vline(xintercept = as.numeric(stock$Week[9]), linetype = 4, colour = "red") +
geom_vline(xintercept = as.numeric(stock$Week[10]), linetype = 4, colour = "red") +
geom_rect(xmin = as.numeric(stock$Week[9]), xmax = as.numeric(stock$Week[10]), ymin = 0, ymax = Inf, fill = "red", alpha = 0.01)
ggsave(filename = "grouped_time_series.png", plot = p, path = "C:/Users/gauta/Documents/GitHub/pandemic/figures/stock_time_series")
##todo:
## adjust y-axis
## add a single graph with them all using facet wrap.
